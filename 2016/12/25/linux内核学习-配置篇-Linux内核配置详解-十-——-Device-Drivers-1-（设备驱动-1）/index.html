<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="keep it simple, stupid"><title> | dupengair的blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">dupengair的blog</h1><a id="logo" href="/.">dupengair的blog</a><p class="description">日拱一卒 精而悟道</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/rss/"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"></h1><div class="post-meta">Dec 25, 2016<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>##</p>
<h1 id="Linux内核配置详解-十-——-Device-Drivers-1-（设备驱动-1）"><a href="#Linux内核配置详解-十-——-Device-Drivers-1-（设备驱动-1）" class="headerlink" title="Linux内核配置详解(十) ——  Device Drivers-1 （设备驱动-1）"></a>Linux内核配置详解(十) ——  Device Drivers-1 （设备驱动-1）</h1><p>基于4.9.0-rc8，ARM-64，根据金步国《4.4内核配置选项简介》整理, @ 表示4.9版本内核无此选项</p>
<p>##</p>
<pre><code>                                选项                                                        |                   配置名                  |                    内容
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      Generic Driver Options  ---&gt;                                                                                                      驱动程序通用选项.[提示]Linux Kernel Driver DataBase网站是搜索驱动程序与硬件型号对应关系的绝佳网站.如果你不知道某个驱动
                                                                                                                                            (例如&quot;CONFIG_INTEL_IOATDMA&quot;)究竟对应着哪些型号的硬件,那么可以直接根据该驱动选项的首字母(本例是&quot;I&quot;)进入对应的索引页
                                                                                                                                            去查找到该驱动的详情页面(本例是&quot;https://cateee.net/lkddb/web-lkddb/INTEL_IOATDMA.html&quot;).[提示]可以使用&quot;lspci -nn&quot;
                                                                                                                                            与&quot;lsusb&quot;命令查看本机所有PCI/USB设备的&quot;vendor id&quot;与&quot;device id&quot;及文本名称.也可以根据已知的id到pci.ids与usb.ids数据库
                                                                                                                                            中搜索设备的名称.
            [*] Support for uevent helper                                                       CONFIG_UEVENT_HELPER                    早年的内核(切换到基于netlink机制之前),在发生uevent事件(通常是热插拔)时,需要调用用户空间程序(通常是&quot;/sbin/hotplug&quot;),以
                                                                                                                                            帮助完成uevent事件的处理.此选项就是用于开启此功能.由于目前的发行版都已不再需要此帮助程序,所以请选&quot;N&quot;.此外,如果你
                                                                                                                                            使用了systemd或udev则必须选&quot;N&quot;.                                                      
            ()    path to uevent helper                                                         CONFIG_UEVENT_HELPER_PATH                早年的内核(切换到基于netlink机制之前),在发生uevent事件(通常是热插拔)时,需要调用用户空间程序(通常是&quot;/sbin/hotplug&quot;),
                                                                                                                                            以帮助完成uevent事件的处理.此选项就是用于设定这个帮助程序的路径.由于目前的发行版都已不再需要此帮助程序,所以请保持
                                                                                                                                            空白.此外,如果你使用了systemd或udev则必须保持空白.                                                 
            [*] Maintain a devtmpfs filesystem to mount at /dev                                 CONFIG_DEVTMPFS                            devtmpfs是一种基于CONFIG_TMPFS的文件系统(与proc和sys有几分相似).在系统启动过程中,随着各个设备的初始化完成,内核将会自动
                                                                                                                                            在devtmpfs中创建相应的设备节点(使用默认的文件名和权限)并赋予正确的主次设备号.更进一步,在系统运行过程中,随着各种设备
                                                                                                                                            插入和拔除,内核也同样会自动在devtmpfs中创建和删除的相应的设备节点(使用默认的文件名和权限)并赋予正确的主次设备号.如果
                                                                                                                                            将devtmpfs挂载到&quot;/dev&quot;目录(通常是系统启动脚本),那么便拥有了一个全自动且全功能的&quot;/dev&quot;目录,而且用户空间程序(通常是udevd)
                                                                                                                                            还可以对其中的内容进行各种修改(增删节点,改变权限,创建符号链接).目前的发行版和各种嵌入式系统基本都依赖于此,除非你知道
                                                                                                                                            自己在做什么,否则请选&quot;Y&quot;.                                                 
            [*]   Automount devtmpfs at /dev, after the kernel mounted the rootfs               CONFIG_DEVTMPFS_MOUNT                    在内核挂载根文件系统的同时,立即自动将devtmpfs挂载到&quot;/dev&quot;目录.因为此时init进程都还尚未启动,所以这就确保在进入用户空间之前,
                                                                                                                                            所有设备文件就都已经准备完毕.开启此选项相当于设置内核引导参数&quot;devtmpfs.mount=1&quot;,关闭此选项相当于设置内核引导参数
                                                                                                                                            &quot;devtmpfs.mount=0&quot;.开启此项后,你就可以放心的使用&quot;init=/bin/sh&quot;直接进入救援模式,而不必担心&quot;/dev&quot;目录空无一物.注意:此选项
                                                                                                                                            并不影响基于initramfs的启动,此种情况下,devtmpfs必须被手动挂载.所以,如果你的系统使用initrd或者有专门的启动脚本用于挂载
                                                                                                                                            &quot;/dev&quot;目录(大多数发行版都有这样的脚本),或者你看了前面的解释,还是不确定,那就选&quot;N&quot;.对于实在想要使用&quot;init=/bin/sh&quot;直接进入
                                                                                                                                            救援模式的人来说,还是使用&quot;init=/bin/sh devtmpfs.mount=1&quot;吧!                                                 
            [ ] Select only drivers that don&apos;t need compile-time external firmware              CONFIG_STANDALONE                        只显示那些编译时不需要额外固件支持的驱动程序,除非你有某些怪异硬件,否则请选&quot;Y&quot;.                                                 
            [*] Prevent firmware from being built                                               CONFIG_PREVENT_FIRMWARE_BUILD            不编译固件(firmware).固件一般是随硬件的驱动程序提供的,仅在更新固件的时候才需要重新编译.建议选&quot;Y&quot;.                                                 
            -*- Userspace firmware loading support                                              CONFIG_FW_LOADER                        用户空间固件加载支持.如果内核自带的模块需要它,它将会被自动选中.但某些内核树之外的模块也可能需要它,这时候就需要你根据实际情况
                                                                                                                                            手动开启了.                                                 
            [*]   Include in-kernel firmware blobs in kernel binary                             CONFIG_FIRMWARE_IN_KERNEL                内核源码树中包含了许多驱动程序需要的二进制固件(blob),推荐的方法是通过&quot;make firmware_install&quot;将&quot;firmware&quot;目录中所需的固件复制
                                                                                                                                            到系统的&quot;/lib/firmware/&quot;目录中,然后由用户空间帮助程序在需要的时候进行加载.开启此项后,将会把所需的&quot;blob&quot;直接编译进内核,
                                                                                                                                            这样就可以无需用户空间程序的帮助,而直接使用这些固件了(例如:当根文件系统依赖于此类固件,而你又不想使用initrd的时候).每个需要
                                                                                                                                            此类二进制固件的驱动程序,都会有一个&quot;Include firmware for xxx device&quot;的选项,如果此处选&quot;Y&quot;,那么这些选项都将被隐藏.建议选&quot;N&quot;.                                                 
            ()    External firmware blobs to build into the kernel binary                       CONFIG_EXTRA_FIRMWARE                    指定要额外编译进内核的二进制固件(blob).此选项的值是一个空格分隔的固件文件名字符串,这些文件必须位于CONFIG_EXTRA_FIRMWARE_DIR
                                                                                                                                            目录中(其默认值是内核源码树下的&quot;firmware&quot;目录).                                                 
            [ ] Fallback user-helper invocation for firmware loading                            CONFIG_FW_LOADER_USER_HELPER            在内核自己直接加载固件失败后,作为补救措施,调用用户空间帮助程序(通常是udev)再次尝试加载.通常这个动作是不必要的,因此应该选&quot;N&quot;,
                                                                                                                                            如果你使用了udev或systemd,则必须选&quot;N&quot;.仅在某些特殊的固件位于非标准位置时,才需要选&quot;Y&quot;.                                                 
            [*] Allow device coredump                                                           CONFIG_ALLOW_DEV_COREDUMP                为驱动程序开启coredump机制,仅供调试.                                                 
            [ ] Driver Core verbose debug messages                                              CONFIG_DEBUG_DRIVER                        让驱动程序核心在系统日志中产生冗长的调试信息,仅供调试                                                 
            [ ] Managed device resources verbose debug messages                                 CONFIG_DEBUG_DEVRES                        为内核添加一个&quot;devres.log&quot;引导参数.当被设为非零值时,将会打印出设备资源管理驱动(devres)的调试信息.仅供调试使用.                                                 
          @ [ ] Test driver remove calls during probe (UNSTABLE)                                                                         
          @ [ ] Enable verbose FENCE_TRACE messages                                                                                      
          @ [ ] DMA Contiguous Memory Allocator                                                                                          
      Bus devices  ----                                                                                                                              
  {*} Connector - unified userspace &lt;-&gt; kernelspace linker  ---&gt;  
            --- Connector - unified userspace &lt;-&gt; kernelspace linker                            CONFIG_CONNECTOR                        统一的用户空间和内核空间连接器,工作在netlink socket协议的顶层.连接器是非常便利的用户态与内核态的通信方式,这些驱动使内核知道
                                                                                                                                            当进程fork并使用proc连接器更改UID/GID/SID(会话ID).内核需要知道什么时候进程fork(CPU中运行多个任务)并执行,否则,内核可能会
                                                                                                                                            低效管理资源.内核有几个连接器应用实例:CONFIG_HYPERV_UTILS,CONFIG_FB_UVESA,CONFIG_W1_CON,CONFIG_DM_LOG_USERSPACE.另外还有
                                                                                                                                            一个给Gentoo装上启动画面的例子.建议选&quot;Y&quot;.                                                          
            [*]   Report process events to userspace                                            CONFIG_PROC_EVENTS                        提供一个向用户空间报告进程事件(fork,exec,id变化(uid,gid,suid))的连接器.建议选&quot;Y&quot;.                                                          
  &lt;M&gt; Memory Technology Device (MTD) support  ---&gt;  
            --- Memory Technology Device (MTD) support                                          CONFIG_MTD                                MTD子系统是一个闪存转换层.其主要目的是提供一个介于闪存硬件驱动程序与高级应用程序之间的抽象层,以简化闪存设备的驱动.注意:MTD常
                                                                                                                                            用于嵌入式系统,而我们常见的U盘/MMC卡/SD卡/CF卡等移动存储设备以及固态硬盘(SSD),虽然也叫&quot;flash&quot;,但它们并不是使用MTD技术的
                                                                                                                                            存储器.仅在你需要使用主设备号为31的MTD块设备(/dev/romX,/dev/rromX,/dev/flashX,/dev/rflashX),或者主设备号为90的MTD字符设备
                                                                                                                                            (/dev/mtdX,/dev/mtdrX)时选&quot;Y&quot;,否则选&quot;N&quot;                                                
          @ &lt; &gt;   MTD tests support (DANGEROUS)                                                                                         
          @ &lt;M&gt;   RedBoot partition table parsing                                                                                       
          @ (-1)    Location of RedBoot partition table                                                                                 
          @ [ ]     Include unallocated flash regions                                                                                           
          @ [ ]     Force read-only for RedBoot system images                                                                                   
          @ &lt;M&gt;   Command line partition table parsing                                                                                          
          @ &lt;M&gt;   TI AR7 partitioning support                                                                                                   
          @       *** User Modules And Translation Layers ***                                                                                   
          @ &lt;M&gt;   Caching block device access to MTD devices                                                                                    
          @ &lt;M&gt;     Readonly block device access to MTD devices                                                                                 
          @ &lt;M&gt;   FTL (Flash Translation Layer) support                                                                                         
          @ &lt;M&gt;   NFTL (NAND Flash Translation Layer) support                                                                                   
          @ [*]     Write support for NFTL                                                                                                      
          @ &lt;M&gt;   INFTL (Inverse NAND Flash Translation Layer) support                                                                          
          @ &lt;M&gt;   Resident Flash Disk (Flash Translation Layer) support                                                                         
          @ &lt;M&gt;   NAND SSFDC (SmartMedia) read only translation layer                                                                           
          @ &lt;M&gt;   SmartMedia/xD new translation layer                                                                                           
          @ &lt;M&gt;   Log panic/oops to an MTD buffer                                                                                               
          @ &lt;M&gt;   Swap on MTD device support                                                                                                    
          @ [ ]   Retain master device when partitioned                                                                                         
          @       RAM/ROM/Flash chip drivers  ---&gt;                                                                                              
          @       Mapping drivers for chip access  ---&gt;                                                                                         
          @       Self-contained MTD device drivers  ---&gt;                                                                                       
          @ [ ]   NAND ECC Smart Media byte order                                                                                               
          @ &lt;M&gt;   NAND Device Support  ---&gt;                                                                                                     
          @ &lt;M&gt;   OneNAND Device Support  ---&gt;                                                                                                  
          @       LPDDR &amp; LPDDR2 PCM memory drivers  ---&gt;                                                                                       
          @ &lt;M&gt;   SPI-NOR device support  ---&gt;                                                                                                  
          @ &lt;M&gt;   Enable UBI - Unsorted block images  ---&gt; 
  [ ] Device Tree and Open Firmware support  ----                                               CONFIG_OF                                        Device Tree基础架构与Open Firmware支持.主要用于嵌入式环境.不确定的选&quot;N&quot;.内核中若有其它选项依赖于它,则会自动选中此项.                                                             
  &lt;M&gt; Parallel port support  ---&gt;  
            --- Parallel port support                                                           CONFIG_PARPORT                                    25针并口(LPT接口)支持.古董级的打印机或扫描仪可能使用这种接口.目前已被淘汰.
          @ &lt;M&gt;   PC-style hardware                                                             
          @ &lt;M&gt;     Multi-IO cards (parallel and serial)                                        
          @ [*]     Use FIFO/DMA if available                                                   
          @ [ ]     SuperIO chipset support                                                     
          @ &lt;M&gt;     Support for PCMCIA management for PC-style ports                            
          @ &lt;M&gt;   AX88796 Parallel Port                                                         
          @ [*]   IEEE 1284 transfer modes                                                      
  -*- Plug and Play support  ---&gt;  
            --- Plug and Play support                                                           CONFIG_PNP                                        即插即用(PnP)支持.选&quot;Y&quot;表示让Linux为PnP设备分配中断和I/O端口(需要在BIOS中开启&quot;PnP OS&quot;),选&quot;N&quot;则表示让BIOS来分配(需要在BIOS
                                                                                                                                                    中关闭&quot;PnP OS&quot;).建议选&quot;Y&quot;.                                                           
            [ ]   PNP debugging messages                                                        CONFIG_PNP_DEBUG_MESSAGES                        允许使用&quot;pnp.debug&quot;内核参数在系统启动过程中输出PnP设备的调试信息,建议选&quot;N&quot;.                                                           
                  *** Protocols ***   
  [*] Block devices  ---&gt; 
            --- Block devices                                                                   CONFIG_BLK_DEV                                    块设备,建议选&quot;Y&quot;.                                                                        
            &lt;M&gt;   Null test block driver                                                        CONFIG_BLK_DEV_NULL_BLK                            仅供调试使用                                                                        
            &lt;M&gt;   Normal floppy disk support                                                    CONFIG_BLK_DEV_FD                                通用软驱支持.已被时代抛弃的设备                                                                        
          @ &lt;M&gt;   Parallel port IDE device support                                              CONFIG_PARIDE                                    通过并口与计算机连接的IDE设备,比如某些老旧的外接光驱或硬盘之类.此类设备早就绝种了                                                                        
          @         *** Parallel IDE high-level drivers ***                                                                                                             
          @ &lt;M&gt;     Parallel port IDE disks                                                                                                                             
          @ &lt;M&gt;     Parallel port ATAPI CD-ROMs                                                                                                                         
          @ &lt;M&gt;     Parallel port ATAPI disks                                                                                                                           
          @ &lt;M&gt;     Parallel port ATAPI tapes                                                                                                                           
          @ &lt;M&gt;     Parallel port generic ATAPI devices                                                                                                                 
          @         *** Parallel IDE protocol modules ***                                                                                                               
          @ &lt;M&gt;     ATEN EH-100 protocol                                                                                                                                
          @ &lt;M&gt;     MicroSolutions backpack (Series 5) protocol                                                                                                         
          @ &lt;M&gt;     DataStor Commuter protocol                                                                                                                          
          @ &lt;M&gt;     DataStor EP-2000 protocol                                                                                                                           
          @ &lt;M&gt;     FIT TD-2000 protocol                                                                                                                                
          @ &lt;M&gt;     FIT TD-3000 protocol                                                                                                                                
          @ &lt;M&gt;     Shuttle EPAT/EPEZ protocol                                                                                                                          
          @ [*]       Support c7/c8 chips                                                                                                                               
          @ &lt;M&gt;     Shuttle EPIA protocol                                                                                                                               
          @ &lt;M&gt;     Freecom IQ ASIC-2 protocol                                                                                                                          
          @ &lt;M&gt;     FreeCom power protocol                                                                                                                              
          @ &lt;M&gt;     KingByte KBIC-951A/971A protocols                                                                                                                   
          @ &lt;M&gt;     KT PHd protocol                                                                                                                                     
          @ &lt;M&gt;     OnSpec 90c20 protocol                                                                                                                               
          @ &lt;M&gt;     OnSpec 90c26 protocol                                                                                                                               
            &lt;M&gt;   Block Device Driver for Micron PCIe SSDs                                      CONFIG_BLK_DEV_PCIESSD_MTIP32XX                    Micron P320/P325/P420/P425 系列固态硬盘支持                                                                        
            &lt;M&gt;   Compressed RAM block device support                                           CONFIG_ZRAM                                        zram是一种基于压缩内存的虚拟块设备,它允许你创建&quot;/dev/zramN&quot;块设备文件,并将它当作普通的磁盘一样使用.它完全位于物理内存中,
                                                                                                                                                    并被实时压缩与解压以节约物理内存的用量,所有对&quot;/dev/zramN&quot;的读写实质上都是对内存的读写,从而可以获得比一般的磁盘快的
                                                                                                                                                    多的IO速度.常将它用做&apos;/tmp&apos;分区或作为swap分区挂载.你可以把它看作是CONFIG_BLK_DEV_RAM的升级版.具体用法可以参考内核文                                                                        
            &lt;M&gt;   Compaq Smart Array 5xxx support                                               CONFIG_BLK_CPQ_CISS_DA                            基于 Compaq Smart 控制器的磁盘阵列卡                                                                        
            [*]     SCSI tape drive support for Smart Array 5xxx                                CONFIG_CISS_SCSI_TAPE                            在基于 Compaq Smart 控制器的磁盘阵列卡上使用的磁带机                                                                        
            &lt;M&gt;   Mylex DAC960/DAC1100 PCI RAID Controller support                              CONFIG_BLK_DEV_DAC960                            Mylex DAC960, AcceleRAID, eXtremeRAID PCI RAID 控制器.很古董的设备了.                                                                        
            &lt;M&gt;   Micro Memory MM5415 Battery Backed RAM support                                CONFIG_BLK_DEV_UMEM                                一种使用电池做后备电源的内存,但被用作块设备,可以像硬盘一样被分区                                                                        
            &lt;*&gt;   Loopback device support                                                       CONFIG_BLK_DEV_LOOPloop                            是指拿文件来模拟块设备(/dev/loopX),比如可以将一个iso9660镜像文件当成文件系统来挂载.建议选&quot;Y&quot;.                                                                        
            (8)     Number of loop devices to pre-create at init time                           CONFIG_BLK_DEV_LOOP_MIN_COUNT                    系统预先初始化的loop设备个数.此值可以通过内核引导参数&quot;loop.max_loop&quot;修改.如果你使用util-linux-2.21以上版本,建议设为&quot;0&quot;
                                                                                                                                                    (loop设备将通过/dev/loop-control动态创建),否则保持默认值即可.                                                                        
            &lt;M&gt;     Cryptoloop Support                                                          CONFIG_BLK_DEV_CRYPTOLOOP                        使用系统提供的CryptoAPI对loop设备加密.注意:因为不能在Cryptoloop上创建日志型文件系统(CONFIG_DM_CRYPT模块可以),
                                                                                                                                                    所以Cryptoloop已经逐渐淡出了.建议选&quot;N&quot;.                                                                        
            &lt;M&gt;   DRBD Distributed Replicated Block Device support                              CONFIG_BLK_DEV_DRBD                                DRBD(Distributed Replicated Block Device)是一种分布式储存系统.DBRD处于文件系统之下,比文件系统更加靠近操作系统内核及IO栈.
                                                                                                                                                    DRBD类似RAID1磁盘阵列,只不过RAID1是在同一台电脑内,而DRBD是透过网络.注意:为了进行连接认证,你还需要选中CONFIG_CRYPTO_HMAC
                                                                                                                                                    以及相应的哈希算法.不确定的选&quot;N&quot;.                                                                        
            [ ]     DRBD fault injection                                                           CONFIG_DRBD_FAULT_INJECTION                        模拟IO错误,以用于测试DRBD的行为.主要用于调试目的
            &lt;M&gt;   Network block device support                                                  CONFIG_BLK_DEV_NBD                                让你的电脑成为网络块设备的客户端,也就是可以挂载远程服务器通过TCP/IP网络提供的块设备(/dev/ndX).提示:这与NFS或Coda没有任何关系.
                                                                                                                                                    更多详情参见&quot;Documentation/blockdev/nbd.txt&quot;.不确定的选&quot;N&quot;.                                                                         
            &lt;M&gt;   STEC S1120 Block Driver                                                       CONFIG_BLK_DEV_SKD                                STEC公司的S1120 PCIe SSD                                                                         
            &lt;M&gt;   OSD object-as-blkdev support                                                  CONFIG_BLK_DEV_OSD                                允许将一个单独的 SCSI OSD(Object-Based Storage Devices) 对象当成普通的块设备来使用.举例来说,你可以在OSD设备上创建一个2G大小
                                                                                                                                                    的对象,然后通过本模块将其模拟成一个2G大小的块设备使用.不确定的选&quot;N&quot;.                                                                         
            &lt;M&gt;   Promise SATA SX8 support                                                      CONFIG_BLK_DEV_SX8                                基于Promise公司的SATA SX8控制器的RAID卡                                                                         
            &lt;*&gt;   RAM block device support                                                      CONFIG_BLK_DEV_RAM                                内存中的虚拟磁盘,大小固定.详情参阅&quot;Documentation/blockdev/ramdisk.txt&quot;.由于其功能比CONFIG_TMPFS和CONFIG_ZRAM弱许多,使用上也
                                                                                                                                                    不方便,所以除非你有明确的理由,否则应该选&quot;N&quot;,并转而使用CONFIG_TMPFS或CONFIG_ZRAM.                                                                         
            (16)    Default number of RAM disks                                                 CONFIG_BLK_DEV_RAM_COUNT                        默认RAM disk的数量.请保持默认值,除非你知道自己在做什么.                                                                         
            (65536) Default RAM disk size (kbytes)                                              CONFIG_BLK_DEV_RAM_SIZE                            默认RAM disk的大小.请保持默认值,除非你知道自己在做什么.                                                                         
            [*]     Support Direct Access (DAX) to RAM block devices                            CONFIG_BLK_DEV_XIP                                XIP(eXecute In Place)支持(指应用程序可以直接在flash闪存内运行,不必再把代码读到系统RAM中).一般用于嵌入式设备.                                                                         
            &lt;M&gt;   Packet writing on CD/DVD media                                                CONFIG_CDROM_PKTCDVD                            CD/DVD刻录机支持.详情参见&quot;Documentation/cdrom/packet-writing.txt&quot;文档                                                                         
            (8)     Free buffers for data gathering                                             CONFIG_CDROM_PKTCDVD_BUFFERS                    用于收集写入数据的缓冲区个数(每个占用64Kb内存),缓冲区越多性能越好.                                                                         
            [ ]     Enable write caching                                                        CONFIG_CDROM_PKTCDVD_WCACHE                        为CD-R/W设备启用写入缓冲,目前这是一个比较危险的选项.建议关闭                                                                         
            &lt;M&gt;   ATA over Ethernet support                                                     CONFIG_ATA_OVER_ETH                                以太网ATA设备(ATA over Ethernet)支持.                                                                         
            &lt;*&gt;   Xen virtual block device support                                              CONFIG_XEN_BLKDEV_FRONTEND                        XEN虚拟块设备前端驱动.此驱动用于与实际驱动块设备的后端驱动(通常位于domain0)通信.                                                                         
            &lt;M&gt;   Xen block-device backend driver                                               CONFIG_XEN_BLKDEV_BACKEND                        XEN块设备后端驱动(通常位于domain0)允许内核将实际的块设备通过高性能的共享内存接口导出给其他客户端的前端驱动(通常位于非domain0)使用                                                                         
            &lt;*&gt;   Virtio block driver                                                           CONFIG_VIRTIO_BLKVirtio                            虚拟块设备驱动.仅可用在基于lguest或QEMU的半虚拟化客户机中(一般是KVM或XEN).                                                                         
            [ ]   Very old hard disk (MFM/RLL/IDE) driver                                       CONFIG_BLK_DEV_HD                                又老又旧的MFM/RLL/ESDI硬盘驱动.无需犹豫,选&quot;N&quot;.                                                                         
            &lt;M&gt;   Rados block device (RBD)                                                      CONFIG_BLK_DEV_RBD                                rados块设备(rbd)支持.它可以与分布式文件系统Ceph合作,也能独立工作.                                                                         
            &lt;M&gt;   IBM Flash Adapter 900GB Full Height PCIe Device Driver                        CONFIG_BLK_DEV_RSXX                                IBM Flash Adapter 900GB Full Height PCIe SSD 驱动                                                                         
</code></pre></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2016/12/25/linux内核学习-配置篇-Linux内核配置详解-十-——-Device-Drivers-1-（设备驱动-1）/" data-id="cix4v2gj100g9tufyc4gip4v5" class="article-share-link">分享到</a><div class="tags"></div><div class="post-nav"><a href="/2016/12/24/linux内核学习-配置篇-Linux内核配置详解-十二-——-Device-Drivers-3-（设备驱动-3）/" class="next">Linux内核配置详解(十二) ——  Device Drivers-3 （设备驱动-3）</a></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C-C-经验累积/">C&C++经验累积</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker学习/">Docker学习</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux使用/">Linux使用</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux内核学习/">Linux内核学习</a><span class="category-list-count">36</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux内核学习/基础篇/">基础篇</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux内核学习/杂记/">杂记</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux内核学习/配置篇/">配置篇</a><span class="category-list-count">11</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux系统编程/">Linux系统编程</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux网络编程/">Linux网络编程</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Q-A/">Q&A</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Sip协议/">Sip协议</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux内核驱动与文件系统/">linux内核驱动与文件系统</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/project-note/">project_note</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/project-note/decode/">decode</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/project-note/think-about/">think_about</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/开发环境搭建/">开发环境搭建</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂项/">杂项</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/渗透测试/">渗透测试</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/源码分析/">源码分析</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法学习/">算法学习</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统性能/">系统性能</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/">阅读笔记</a><span class="category-list-count">258</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/C-11新特性/">C++11新特性</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/C-Templates/">C++Templates</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/C程序设计语言/">C程序设计语言</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/EffectiveC/">EffectiveC++</a><span class="category-list-count">50</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/EffectiveSTL/">EffectiveSTL</a><span class="category-list-count">51</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/InsideC-ObjectModel/">InsideC++ObjectModel</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/Linux多线程服务器编程/">Linux多线程服务器编程</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/Linux性能优化大师/">Linux性能优化大师</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/Linux设备驱动程序/">Linux设备驱动程序</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/MoreEffectiveC/">MoreEffectiveC++</a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/TCPIP详解Vol1/">TCPIP详解Vol1</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/TheC-StandardLibraryEd1/">TheC++StandardLibraryEd1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/TheC-StandardLibraryEd2/">TheC++StandardLibraryEd2</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/http权威指南/">http权威指南</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/unix网络编程Ed3/">unix网络编程Ed3</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/wireshark数据包分析实战/">wireshark数据包分析实战</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/实战Shell编程与服务器管理/">实战Shell编程与服务器管理</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/程序员的自我修养/">程序员的自我修养</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/网络安全基础/">网络安全基础</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/面向模式的软件体系结构Vol1/">面向模式的软件体系结构Vol1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/高级C-C-编译技术/">高级C&C++编译技术</a><span class="category-list-count">2</span></li></ul></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/C程序设计语言/" style="font-size: 15px;">C程序设计语言</a> <a href="/tags/C-C-经验累积/" style="font-size: 15px;">C&C++经验累积</a> <a href="/tags/Linux使用/" style="font-size: 15px;">Linux使用</a> <a href="/tags/Linux系统编程/" style="font-size: 15px;">Linux系统编程</a> <a href="/tags/Linux网络编程/" style="font-size: 15px;">Linux网络编程</a> <a href="/tags/Q-A/" style="font-size: 15px;">Q&A</a> <a href="/tags/Sip协议/" style="font-size: 15px;">Sip协议</a> <a href="/tags/开发环境搭建/" style="font-size: 15px;">开发环境搭建</a> <a href="/tags/杂项/" style="font-size: 15px;">杂项</a> <a href="/tags/渗透测试/" style="font-size: 15px;">渗透测试</a> <a href="/tags/linux内核驱动与文件系统/" style="font-size: 15px;">linux内核驱动与文件系统</a> <a href="/tags/源码分析/" style="font-size: 15px;">源码分析</a> <a href="/tags/系统性能/" style="font-size: 15px;">系统性能</a> <a href="/tags/算法学习/" style="font-size: 15px;">算法学习</a> <a href="/tags/阅读笔记/" style="font-size: 15px;">阅读笔记</a> <a href="/tags/Linux内核学习/" style="font-size: 15px;">Linux内核学习</a> <a href="/tags/think-about/" style="font-size: 15px;">think_about</a> <a href="/tags/decode/" style="font-size: 15px;">decode</a> <a href="/tags/InsideC-ObjectModel/" style="font-size: 15px;">InsideC++ObjectModel</a> <a href="/tags/Docker学习/" style="font-size: 15px;">Docker学习</a> <a href="/tags/Linux性能优化大师/" style="font-size: 15px;">Linux性能优化大师</a> <a href="/tags/EffectiveSTL/" style="font-size: 15px;">EffectiveSTL</a> <a href="/tags/Linux设备驱动程序/" style="font-size: 15px;">Linux设备驱动程序</a> <a href="/tags/EffectiveC/" style="font-size: 15px;">EffectiveC++</a> <a href="/tags/C-11新特性/" style="font-size: 15px;">C++11新特性</a> <a href="/tags/C-Templates/" style="font-size: 15px;">C++Templates</a> <a href="/tags/Linux多线程服务器编程/" style="font-size: 15px;">Linux多线程服务器编程</a> <a href="/tags/TCPIP详解Vol1/" style="font-size: 15px;">TCPIP详解Vol1</a> <a href="/tags/TheC-StandardLibraryEd1/" style="font-size: 15px;">TheC++StandardLibraryEd1</a> <a href="/tags/MoreEffectiveC/" style="font-size: 15px;">MoreEffectiveC++</a> <a href="/tags/unix网络编程Ed3/" style="font-size: 15px;">unix网络编程Ed3</a> <a href="/tags/http权威指南/" style="font-size: 15px;">http权威指南</a> <a href="/tags/wireshark数据包分析实战/" style="font-size: 15px;">wireshark数据包分析实战</a> <a href="/tags/程序员的自我修养/" style="font-size: 15px;">程序员的自我修养</a> <a href="/tags/TheC-StandardLibraryEd2/" style="font-size: 15px;">TheC++StandardLibraryEd2</a> <a href="/tags/实战LinuxShell编程与服务器管理/" style="font-size: 15px;">实战LinuxShell编程与服务器管理</a> <a href="/tags/网络安全基础/" style="font-size: 15px;">网络安全基础</a> <a href="/tags/面向模式的软件体系结构Vol1/" style="font-size: 15px;">面向模式的软件体系结构Vol1</a> <a href="/tags/高级C-C-编译技术/" style="font-size: 15px;">高级C&C++编译技术</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/12/25/linux内核学习-配置篇-Linux内核配置详解-十-——-Device-Drivers-1-（设备驱动-1）/">linux内核学习-配置篇-Linux内核配置详解-十-——-Device-Drivers-1-（设备驱动-1）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/24/linux内核学习-配置篇-Linux内核配置详解-十二-——-Device-Drivers-3-（设备驱动-3）/">Linux内核配置详解(十二) ——  Device Drivers-3 （设备驱动-3）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/20/linux内核学习-配置篇-Linux内核配置详解-十一-——-Device-Drivers-2-（设备驱动-2）/">Linux内核配置详解(十一) ——  Device Drivers-2 （设备驱动-2）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/18/linux内核学习-配置篇-Linux内核配置详解-九-——-Networking-support-Ohters-（网络支持-Others）/">Linux内核配置详解(九) ——  Networking support-Others （网络支持-Others）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/16/linux内核学习-配置篇-Linux内核配置详解-八-——-Networking-support-Networking-options-（网络支持-网络选项）/">Linux内核配置详解(八) ——  Networking support-Networking options （网络支持-网络选项）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/14/linux内核学习-配置篇-Linux内核配置详解-七-——-Executable-file-formats-Emulations-可执行文件格式-仿真/">Linux内核配置详解(七) ——   Executable file formats / Emulations (可执行文件格式/仿真)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/12/linux内核学习-配置篇-Linux内核配置详解-六-——-Power-management-and-ACPI-options-电源管理和ACPI选项/">Linux内核配置详解(六) ——  Power management and ACPI options (电源管理和ACPI选项)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/10/linux内核学习-配置篇-Linux内核配置详解-五-——-Processor-type-and-features-中央处理器-CPU-类型及特性/">Linux内核配置详解(五) ——  Processor type and features(中央处理器(CPU)类型及特性)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/07/linux内核学习-配置篇-Linux内核配置详解-四-——-Enable-the-block-layer-块设备支持/">Linux内核配置详解(四) ——  Enable the block layer(块设备支持)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/04/linux内核学习-配置篇-Linux内核配置详解-三-——-Enable-loadable-module-support-可加载模块支持/">Linux内核配置详解(三) ——  Enable loadable module support(可加载模块支持)</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://easy.ac.cn/" title="easy" target="_blank">easy</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">dupengair的blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>