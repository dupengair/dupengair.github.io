<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="keep it simple, stupid"><title>Linux内核配置详解(六) ——  Power management and ACPI options (电源管理和ACPI选项) | dupengair的blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Linux内核配置详解(六) ——  Power management and ACPI options (电源管理和ACPI选项)</h1><a id="logo" href="/.">dupengair的blog</a><p class="description">日拱一卒 精而悟道</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/rss/"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Linux内核配置详解(六) ——  Power management and ACPI options (电源管理和ACPI选项)</h1><div class="post-meta">Dec 12, 2016<span> | </span><span class="category"><a href="/categories/Linux内核学习/">Linux内核学习</a><a href="/categories/Linux内核学习/配置篇/">配置篇</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux内核配置详解-六-——-Power-management-and-ACPI-options-电源管理和ACPI选项"><span class="toc-number">1.</span> <span class="toc-text">Linux内核配置详解(六) ——  Power management and ACPI options (电源管理和ACPI选项)</span></a></li></ol></div></div><div class="post-content"><p>##</p>
<h1 id="Linux内核配置详解-六-——-Power-management-and-ACPI-options-电源管理和ACPI选项"><a href="#Linux内核配置详解-六-——-Power-management-and-ACPI-options-电源管理和ACPI选项" class="headerlink" title="Linux内核配置详解(六) ——  Power management and ACPI options (电源管理和ACPI选项)"></a>Linux内核配置详解(六) ——  Power management and ACPI options (电源管理和ACPI选项)</h1><p>基于4.9.0-rc8，ARM-64，根据金步国《4.4内核配置选项简介》整理, @ 表示4.9版本内核无此选项</p>
<p>##</p>
<pre><code>                            选项                                          |                   配置名                  |                    内容
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [*] Suspend to RAM and standby                                                          CONFIG_SUSPEND                            &quot;休眠到内存&quot;(ACPI S3)支持.也就是系统休眠后,除了内存之外,其他所有部件都停止工作,重开机之后可以直接从内存中
                                                                                                                                        恢复运行状态.要使用此功能,你需要执行&quot;echo mem &gt; /sys/power/state&quot;命令,还需要在BIOS中开启S3支持,否则可能会有问题.                         
@ [ ]   Skip kernel&apos;s sys_sync() on suspend to RAM/standby                                                                                 
  [*] Hibernation (aka &apos;suspend to disk&apos;)                                                 CONFIG_HIBERNATION                        &quot;休眠到硬盘&quot;(ACPI S4)支持.也就是将内存的内容保存到硬盘(hibernation),所有部件全都停止工作.要使用此功能,你首先需要使用
                                                                                                                                        内核引导参数&quot;resume=/dev/swappartition&quot;,然后执行&quot;echo disk &gt; /sys/power/state&quot;命令.如果你不想从先前的休眠状态中
                                                                                                                                        恢复,那么可以使用&quot;noresume&quot;内核引导参数.更多信息,可以参考&quot;Documentation/power/swsusp.txt&quot;文件.                                                   
  ()  Default resume partition                                                            CONFIG_PM_STD_PARTITION                    默认的休眠分区.这个分区必须是swap分区.不过这里设置的值会被明确的内核引导参数中的值覆盖.                                                  
  [ ] Opportunistic sleep                                                                 CONFIG_PM_AUTOSLEEP                        这是一种从安卓借鉴过来的休眠方式.这个特性在安卓系统上被称为&quot;suspend blockers&quot;或&quot;wakelocks&quot;.这是一种更激进的电源管理模式,
                                                                                                                                        以尽可能节约电力为目的.系统默认就处于休眠状态,仅为内存和少数唤醒系统所必须的设备供电,当有任务(唤醒源)需要运行的时候
                                                                                                                                        才唤醒相关组件工作,工作完成后又立即进入休眠状态.不过这些特性需要相应的设备驱动程序的支持.目前除了安卓设备,在PC和
                                                                                                                                        服务器领域,能够利用此特性的驱动还比较少,不过这是一项非常有前途的电源技术,喜欢尝鲜的可以考虑开启.                                                  
  [*] User space wakeup sources interface                                                 CONFIG_PM_WAKELOCKS                        允许用户空间的程序通过sys文件系统接口,创建/激活/撤销系统的&quot;唤醒源&quot;.需要与CONFIG_PM_AUTOSLEEP配合使用.                                                  
  (100) Maximum number of user space wakeup sources (0 = no limit)                        CONFIG_PM_WAKELOCKS_LIMIT                    用户空间程序允许使用的&quot;唤醒源&quot;数量,&quot;0&quot;表示无限,最大值是&quot;100000&quot;.                                                  
  [*]   Garbage collector for user space wakeup sources                                   CONFIG_PM_WAKELOCKS_GC                    对&quot;唤醒源&quot;对象使用垃圾回收.主要用于调试目的和Android环境.                                                  
  -*- Device power management core functionality                                          CONFIG_PM                                    允许IO设备(比如硬盘/网卡/声卡)在系统运行时进入省电模式,并可在收到(硬件或驱动产生的)唤醒信号后恢复正常.
                                                                                                                                        此功能通常需要硬件的支持.建议在笔记本/嵌入式等需要节约电力的设备上选&quot;Y&quot;.                                                  
  [*]   Power Management Debug Support                                                    CONFIG_PM_DEBUG                            仅供调试使用

@ [*]     Extra PM attributes in sysfs for low-level debugging/testing                                                                      
@ [ ]     Test suspend/resume and wakealarm during bootup                                                                                   
@ [ ]     Device suspend/resume watchdog                                                                                                    
@ [*] Suspend/resume event tracing                                                                                                          
  [*] Enable workqueue power-efficient mode by default                                    CONFIG_WQ_POWER_EFFICIENT_DEFAULT         因为&quot;per-cpu workqueue&quot;的缓存更靠近对应的CPU,所以它比&quot;unbound workqueue&quot;拥有更好的性能,但另一方面&quot;per-cpu workqueue&quot;
                                                                                                                                        通常又比&quot;unbound workqueue&quot;需要消耗更多的电能.选中此项表示默认开启&quot;workqueue.power_efficient&quot;内核引导参数,以使用
                                                                                                                                        &quot;unbound workqueue&quot;而不是&quot;per-cpu workqueue&quot;以降低功耗,但是性能会有微小的损失.                                        
  -*- ACPI (Advanced Configuration and Power Interface) Support  ---&gt;   
        --- ACPI (Advanced Configuration and Power Interface) Support                     CONFIG_ACPI                               高级配置与电源接口(Advanced Configuration and Power Interface)包括了软件和硬件方面的规范,目前已被软硬件厂商广泛支持,
                                                                                                                                        并且取代了许多过去的配置与电源管理接口,包括 PnP BIOS (Plug-and-Play BIOS), MPS(CONFIG_X86_MPPARSE), 
                                                                                                                                        APM(Advanced Power Management) 等.总之,ACPI已经成为x86平台必不可少的组件,如果你没有特别的理由,务必选中此项.                                                              
        [ ]   AML debugger interface                                                      CONFIG_ACPI_DEBUGGER                        仅供调试使用                                                                                             
        [ ]   Deprecated power /proc/acpi directories                                     CONFIG_ACPI_PROCFS_POWER                    过时的 /proc/acpi 接口支持,建议关闭.                                                                                             
        [*]   Allow supported ACPI revision to be overriden                               CONFIG_ACPI_REV_OVERRIDE_POSSIBLE            某些笔记本固件会根据操作系统支持的ACPI版本决定硬件的工作模式.例如 Dell XPS 13 (2015) 期望操作系统支持&quot;ACPI v5&quot;规范,
                                                                                                                                        但Linux实际上只支持&quot;ACPI v4&quot;规范,此时固件会将声卡的工作模式从HDA模式(Linux支持此模式,且为首选模式)转换成I2S模式
                                                                                                                                        (次选模式).选中此项后,将强制Linux内核哄骗固件说它支持&quot;ACPI v5&quot;规范,相当于使用了&quot;acpi_rev_override&quot;内核引导参数.                                                                                             
        &lt;M&gt;   EC read/write access through /sys/kernel/debug/ec                           CONFIG_ACPI_EC_DEBUGFS                    仅供调试使用.                                                                                             
        &lt;*&gt;   AC Adapter                                                                  CONFIG_ACPI_AC                            允许在外接交流电源和内置电池之间进行切换.                                                                                             
        &lt;*&gt;   Battery                                                                     CONFIG_ACPI_BATTERY                        允许通过 /proc/acpi/battery 接口查看电池信息.                                                                                             
        {*}   Button                                                                      CONFIG_ACPI_BUTTON                        允许守护进程通过 /proc/acpi/event 接口捕获power/sleep/lid(合上笔记本)按钮事件,并执行相应的动作,
                                                                                                                                        软关机(poweroff)也需要它的支持.                                                                                             
        {M}   Video                                                                       CONFIG_ACPI_VIDEO                            对主板上的集成显卡提供ACPI支持.注意:仅支持集成显卡.                                                                                             
        {*}   Fan                                                                         CONFIG_ACPI_FAN                            允许用户层的程序对风扇进行控制(开/关/查询状态)                                                                                             
        [*]   Dock                                                                        CONFIG_ACPI_DOCK                            支持兼容ACPI规范的扩展坞(比如 IBM Ultrabay 和 Dell Module Bay)支持.                                                                                             
        -*-   Processor                                                                   CONFIG_ACPI_PROCESSOR                        在支持 ACPI C2/C3 的CPU上,将ACPI安装为idle处理程序.有几种CPU频率调节驱动依赖于它.而且目前的CPU都已经支持ACPI规范,
                                                                                                                                        建议开启此项.                                                                                             
        &lt;M&gt;   IPMI                                                                        CONFIG_ACPI_IPMI                            允许ACPI使用IPMI(智能平台管理接口)的请求/应答消息访问BMC(主板管理控制器).IPMI通常出现在服务器中,以允许通过诸如
                                                                                                                                        ipmitool这样的工具监视服务器的物理健康特征(温度/电压/风扇状态/电源状态).                                                                                             
        &lt;M&gt;   Processor Aggregator                                                        CONFIG_ACPI_PROCESSOR_AGGREGATOR            支持 ACPI 4.0 加入的处理器聚合器(processor Aggregator)功能,以允许操作系统对系统中所有的CPU进行统一的配置和控制.
                                                                                                                                        目前只支持逻辑处理器(也就是利用Intel超线程技术虚拟出来的CPU)idling功能,其目标是降低耗电量.不确定的应该选&quot;N&quot;.
                                                                                                                                        在某些服务器上此驱动(acpi_pad)可能与BIOS中的节能功能冲突                                                                                             
        &lt;*&gt;   Thermal Zone                                                                CONFIG_ACPI_THERMAL                        ACPI thermal zone 支持.系统温度过高时可以及时调整风扇的工作状态以避免你的CPU被烧毁.
                                                                                                                                        目前所有CPU都支持此特性.务必开启.参见CONFIG_THERMAL选项.                                                                                             
        -*-   NUMA support                                                                CONFIG_ACPI_NUMA                            通过读取系统固件中的ACPI表,获得NUMA系统的CPU及物理内存分布信息.NUMA系统必选.                                                                                             
        ()    Custom DSDT Table file to include                                           CONFIG_ACPI_CUSTOM_DSDT_FILE                允许将一个定制过的DSDT编译进内核.详情参见&quot;Documentation/acpi/dsdt-override.txt&quot;文档.看不懂的请保持空白.                                                                                             
        [*]   Allow upgrading ACPI tables via initrd                                      CONFIG_ACPI_TABLE_UPGRADE                 允许initrd更改 ACPI tables 中的任意内容. ACPI tables 是BIOS提供给OS的硬件配置数据,包括系统硬件的电源管理和配置管理.
                                                                                                                                        详情参见&quot;Documentation/acpi/initrd_table_override.txt&quot;文件.                                                                            
        [ ]   Debug Statements                                                            CONFIG_ACPI_DEBUG                            详细的ACPI调试信息,不搞开发就别选.                                                                                             
        [*]   PCI slot detection driver                                                   CONFIG_ACPI_PCI_SLOT                        将每个PCI插槽都作为一个单独的条目列在 /sys/bus/pci/slots/ 目录中,有助于将设备的物理插槽位置与逻辑的PCI总线地址进行对应.
                                                                                                                                        不确定的选&quot;No&quot;.                                                                                             
        [*]   Power Management Timer Support                                              CONFIG_X86_PM_TIMER                        ACPI PM Timer,简称&quot;ACPI Timer&quot;,是一种集成在主板上的硬件时钟发生器,提供3.579545MHz固定频率.这是比较传统的硬件时钟发生器
                                                                                                                                        (HPET则是比较新型的硬件时钟发生器),目前所有的主板都支持,而且是ACPI规范不可分割的部分.除非你确定不需要,否则必选.                                                                                             
        -*-   Container and Module Devices                                                CONFIG_ACPI_CONTAINER                        支持 NUMA节点/CPU/内存 的热插拔. Device ID: ACPI0004, PNP0A05, PNP0A06 
                                                                                                                                        (find /sys/devices/ -name &quot;PNP0A0[56]*&quot; -or -name &quot;ACPI0004*&quot;)                                                                                             
        [*]   Memory Hotplug                                                              CONFIG_ACPI_HOTPLUG_MEMORY                内存热插拔支持. Device ID: PNP0C80 (find /sys/devices/ -name &quot;PNP0C80*&quot;)                                                                                             
        &lt;M&gt;   Smart Battery System                                                        CONFIG_ACPI_SBS                            智能电池系统(Smart Battery System)可以让笔记型电脑显示及管理详细精确的电池状态信息.使用锂电池的笔记本电脑必备利器.
                                                                                                                                        但遗憾的是并不是所有笔记本都支持这项特性.                                                                                             
        -*-   Hardware Error Device                                                       CONFIG_ACPI_HED                            Hardware Error Device (Device ID: PNP0C33) 能够通过 SCI 报告一些硬件错误(通常是已经被纠正的错误).如果你的系统中有设备ID
                                                                                                                                        为&quot;PNP0C33&quot;的设备(find /sys/devices/ -name &quot;PNP0C33*&quot;),那么就选上.                                                                                             
        &lt; &gt;   Allow ACPI methods to be inserted/replaced at run time                      CONFIG_ACPI_CUSTOM_METHOD                    允许在不断电的情况下直接对ACPI的功能进行删改,包含一定危险性,它允许root任意修改内存中内核空间的内容.仅用于调试.                                                                                             
        [*]   Boottime Graphics Resource Table support                                    CONFIG_ACPI_BGRT                            在 /sys/firmware/acpi/bgrt/ 中显示 ACPI Boottime Graphics Resource Table ,以允许操作系统获取固件中的启动画面(splash).                                                                                             
        [ ]   Hardware-reduced ACPI support only                                          CONFIG_ACPI_REDUCED_HARDWARE_ONLY            以&quot;reduced hardware&quot;模式编译内核的ACPI代码,从而获得体积更小的内核但仅能运行在ACPI &quot;reduced hardware&quot;模式的硬件上.
                                                                                                                                        不确定的选&quot;N&quot;.                                                                                             
        &lt;M&gt;   ACPI NVDIMM Firmware Interface Table (NFIT)                                 CONFIG_ACPI_NFIT                            非易失性内存(NVDIMM)支持.此种内存使用超级电容作为后备电力,并且使用非挥发性的flash存储介质来保存数据,以使数据
                                                                                                                                        能够在掉电之后依然保存.这是一种很有前途的技术,但是目前笔记本与普通服务器并不使用这种内存.                                                                                             
      @ [ ]     NFIT DSM debug                                                                                                                                                         
        [*]   ACPI Platform Error Interface (APEI)                                        CONFIG_ACPI_APEI                            高级平台错误接口(ACPI Platform Error Interface)是RAS(Reliability, Availability and Serviceability)的一部分,
                                                                                                                                        是定义在 ACPI 4.0 规范中的一个面向硬件错误管理的接口,主要是为了统一 firmware/BIOS 和 OS 之间的错误交互机制,
                                                                                                                                        使用标准的错误接口进行管理,同时也扩展了错误接口的内容以便实现更加灵活丰富的功能                                                                                             
        [*]     APEI Generic Hardware Error Source                                        CONFIG_ACPI_APEI_GHES                        &quot;Firmware First Mode&quot;支持.由于BIOS/FIRMWARE是平台相关的,因此BIOS/FIRMWARE比OS更清楚硬件平台的配置情况,
                                                                                                                                        甚至包含各种必须的修正/定制/优化.这样,在&quot;Firmware First&quot;模式下,BIOS/FIRMWARE利用这一优势,可以有针对性的
                                                                                                                                        对发生的硬件错误进行分析/处理/分发,也可以更准确的记录错误的现场信息.这样,不但对硬件错误可以做出更准确,
                                                                                                                                        更复杂的处理,而且可以降低OS的复杂性和冗余度.建议开启.                                                                                             
        [*]     APEI PCIe AER logging/recovering support                                  CONFIG_ACPI_APEI_PCIEAER                    让 PCIe AER errors 首先通过 APEI firmware 进行报告.                                                                                             
        [*]     APEI memory error recovering support                                      CONFIG_ACPI_APEI_MEMORY_FAILURE           让 Memory errors 首先通过 APEI firmware 进行报告.                                                                                  
        &lt;M&gt;     APEI Error INJection (EINJ)                                               CONFIG_ACPI_APEI_EINJ                     仅供调试使用.                                                                       
        &lt; &gt;     APEI Error Record Serialization Table (ERST) Debug Support                CONFIG_ACPI_APEI_ERST_DEBUG               仅供调试使用.                                                                              
      @ &lt; &gt;   DPTF Platform Power Participant     
        &lt;M&gt;   Extended Error Log support                                                  CONFIG_ACPI_EXTLOG                          服务器CPU一般都会在非核心寄存器中记录比CONFIG_X86_MCE故障更详细的额外信息,诸如PFA(Predictive Failure Analysis)
                                                                                                                                        之类的故障预警系统需要收集这些信息.但由于这些非核心寄存器的位置差别很大没有统一标准,系统软件难以直接读取
                                                                                                                                        这些扩展的错误信息.此驱动可以在MCE或CMCI机制之外,将系统固件提供的这些额外扩展错误信息导出到用户空间.不确定的选&quot;N&quot;.
        [ ]   PMIC (Power Management Integrated Circuit) operation region support  ----   CONFIG_PMIC_OPREGION                        电源管理芯片(PMIC)支持.此种芯片常用于以电池作为电源的嵌入式装置.          
      @ &lt; &gt;   ACPI configfs support 
  [*] SFI (Simple Firmware Interface) Support  ----                                       CONFIG_SFI                                简单固件接口规范(Simple Firmware Interface)使用一种轻量级的简单方法(通过内存中的一张静态表格)从firmware向操作系统传递信息.
                                                                                                                                        目前这个规范仅用于第二代 Intel Atom 平台,其核心名称是&quot;Moorestown&quot;.                  
      CPU Frequency scaling  ---&gt;    
            [*] CPU Frequency scaling                                                     CONFIG_CPU_FREQ                            CPUfreq子系统允许动态改变CPU主频,达到省电和降温的目的.现如今的CPU都已经支持动态频率调整,建议开启.
                                                                                                                                        不过,如果你是为虚拟机编译内核,就没有必要开启了,由宿主机内核去控制就OK了.                                            
            [*]   CPU frequency transition statistics                                     CONFIG_CPU_FREQ_STAT                      通过sysfs文件系统输出CPU频率变化的统计信息                      
            [*]     CPU frequency transition statistics details                           CONFIG_CPU_FREQ_STAT_DETAILS              输出更详细的CPU频率变化统计信息                             
                  Default CPUFreq governor (performance)  ---&gt;                                                                         默认的CPU频率调节策略.不同策略拥有不同的调节效果.
                        (X) performance                                                                                               
                        ( ) powersave                                                                                                                                  
                        ( ) userspace     
                        ( ) ondemand 
                        ( ) conservative                                                                                                
                      @ ( ) schedutil                                                     
            -*-   &apos;performance&apos; governor                                                  CONFIG_CPU_FREQ_GOV_PERFORMANCE            &apos;性能&apos;优先,静态的将频率设置为cpu支持的最高频率.最耗电,发热量最大,性能/效率比最低.不建议使用.                                            
            &lt;*&gt;   &apos;powersave&apos; governor                                                    CONFIG_CPU_FREQ_GOV_POWERSAVE             &apos;节能&apos;优先,静态的将频率设置为cpu支持的最低频率,严重影响性能.此调控器事实上并不能节省电能,  
                                                                                                                                        因为系统需要花更长的时间才能进入空闲状态(C1E,C3,C6).不建议使用.
            &lt;*&gt;   &apos;userspace&apos; governor for userspace frequency scaling                    CONFIG_CPU_FREQ_GOV_USERSPACE             既允许手动调整cpu频率,也允许用户空间的程序动态的调整cpu频率(需要额外的调频软件).比较麻烦,不建议使用.                                
            &lt;*&gt;   &apos;ondemand&apos; cpufreq policy governor                                      CONFIG_CPU_FREQ_GOV_ONDEMAND              &apos;随需应变&apos;,内核周期性的考察CPU负载,当CPU负载超过/低于设定的百分比阈值(/sys/devices/system/cpu/cpufreq/ondemand/up_threshold)时,
                                                                                                                                        就自动将cpu频率设为最高/最低值(也就是仅在最高和最低频率间切换),比较适合台式机.[优化建议]将&quot;up_threshold&quot;设为95左右,
                                                                                                                                        可以获得更高的&quot;性能/瓦特&quot;比.                                                                           
            &lt;*&gt;   &apos;conservative&apos; cpufreq governor                                            CONFIG_CPU_FREQ_GOV_CONSERVATIVE            &apos;保守&apos;,和&apos;ondemand&apos;相似,内核同样周期性的考察CPU负载,但是频率的升降是渐变式的(通常只在相邻的两档频率间切换,但具体取决于                                            
                                                                                                                                        &quot;/sys/devices/system/cpu/cpufreq/conservative/freq_step&quot;的百分比设置,设为&quot;100&quot;则等价于仅允许在最高和最低频率间切换):                                            
                                                                                                                                        当CPU负载超过百分比上限(/sys/devices/system/cpu/cpufreq/conservative/up_threshold)时,就自动提升一档CPU频率;                                            
                                                                                                                                        当CPU负载低于百分比下限(/sys/devices/system/cpu/cpufreq/conservative/down_threshold)时,就自动降低一档CPU频率.                                            
                                                                                                                                        更适合用于笔记本/PDA/x86_64环境.[优化建议]&apos;conservative&apos;在默认设置下的&quot;性能/瓦特&quot;比通常不如&apos;ondemand&apos;优秀,                                            
                                                                                                                                        但是优化设置之后情况则可能反转.例如,在&quot;down_threshold=93,up_threshold=97&quot;的情况下,可以比&quot;up_threshold=95&quot;的&apos;ondemand&apos;略有优势.                                             
          @ [ ]   &apos;schedutil&apos; cpufreq policy governor        
                  *** CPU frequency scaling drivers ***      
            [*]   Intel P state control                                                    CONFIG_X86_INTEL_PSTATE                    此驱动是专用于Intel的&quot;Sandy Bridge&quot;/&quot;Ivy Bridge&quot;/&quot;Haswell&quot;或更新CPU微架构的首选驱动,可以更好的支持&quot;Turbo Boost 2.0&quot;技术.
            &lt;*&gt;   Processor Clocking Control interface driver                             CONFIG_X86_PCC_CPUFREQ                    PCC(Processor Clocking Control)接口支持.此种接口仅对某些HP Proliant系列服务器有意义.
                                                                                                                                        更多细节可以参考&quot;Documentation/cpu-freq/pcc-cpufreq.txt&quot;文件.                         
            &lt;*&gt;   ACPI Processor P-States driver                                          CONFIG_X86_ACPI_CPUFREQ                    此驱动同时支持Intel和AMD的CPU,这是较老的intel cpu与非intel cpu首选的驱动(除非你的CPU是古董级别).
                                                                                                                                        注意:对于可以使用P-state驱动的Intel CPU来说,应该选&quot;N                                                                                                                                        
            [*]     Legacy cpb sysfs knob support for AMD CPUs                            CONFIG_X86_ACPI_CPUFREQ_CPB               为了兼容旧的用户空间程序而设置,建议关闭.                                                                           
            &lt;*&gt;   AMD Opteron/Athlon64 PowerNow!                                          CONFIG_X86_POWERNOW_K8                    过时的驱动,仅为老旧的K8核心的AMD处理器提供支持.K10以及更新的CPU应该使用                                                                                           
            &lt;M&gt;   AMD frequency sensitivity feedback powersave bias                       CONFIG_X86_AMD_FREQ_SENSITIVITY            如果你使用 AMD Family 16h 或者更高级别的处理器,同时又使用&quot;ondemand&quot;频率调节器,
                                                                                                                                        开启此项可以更有效的进行频率调节(在保证性能的前提下更节能).                                                                                           
            &lt;*&gt;   Intel Enhanced SpeedStep (deprecated)                                   CONFIG_X86_SPEEDSTEP_CENTRINO                已被时代抛弃的驱动,仅对老旧的迅驰平台 Intel Pentium M 或者 Intel Xeons 处理器有意义.                                                                                           
            &lt;M&gt;   Intel Pentium 4 clock modulation                                        CONFIG_X86_P4_CLOCKMOD                    已被时代抛弃的驱动,仅对支持老旧的Speedstep技术的 Intel Pentium 4 / XEON 处理器有意义.而且即便是在这样的CPU上,
                                                                                                                                        因为种种兼容性问题可能导致的不稳定,也不建议开启.                                                                                           
                  *** shared options ***                                                                                              
      CPU Idle  ---&gt;     
            *- CPU idle PM support                                                        CONFIG_CPU_IDLE                            CPU idle 指令支持,该指令可以让CPU在空闲时&quot;打盹&quot;以节约电力和减少发热.只要是支持ACPI的CPU就应该开启.由于所有64位CPU都已支持ACPI,
                                                                                                                                        所以不必犹豫,开启![提示]为虚拟机编译的内核就没有必要开启了,由宿主机内核去控制就OK了.             
          @ [*]   Ladder governor (for periodic timer tick)                                            
          @ -*-   Menu governor (for tickless system)   
  [*] Cpuidle Driver for Intel Processors                                                 CONFIG_INTEL_IDLE                            专用于Intel CPU的cpuidle驱动.而CONFIG_CPU_IDLE则可用于非Intel的CPU.                                            
      Memory power savings  ---&gt;   
            &lt;M&gt; Intel chipset idle memory power saving driver                               CONFIG_I7300_IDLE                            在某些具备内存节能特性的intel服务器芯片组上,让内存也可以在空闲时通过idle指令&quot;打盹&quot;.这些芯片组必须具备 I/O AT 支持(例如 Intel 7300).
                                                                                                                                        同时内存也需要支持此特性.                            
</code></pre></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2016/12/12/linux内核学习-配置篇-Linux内核配置详解-六-——-Power-management-and-ACPI-options-电源管理和ACPI选项/" data-id="ciwwa213m00gbhsfygygbjuiu" class="article-share-link">分享到</a><div class="tags"><a href="/tags/Linux内核学习/">Linux内核学习</a></div><div class="post-nav"><a href="/2016/12/14/linux内核学习-配置篇-Linux内核配置详解-七-——-Executable-file-formats-Emulations-可执行文件格式-仿真/" class="pre">Linux内核配置详解(七) ——   Executable file formats / Emulations (可执行文件格式/仿真)</a><a href="/2016/12/10/linux内核学习-配置篇-Linux内核配置详解-五-——-Processor-type-and-features-中央处理器-CPU-类型及特性/" class="next">Linux内核配置详解(五) ——  Processor type and features(中央处理器(CPU)类型及特性)</a></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C-C-经验累积/">C&C++经验累积</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker学习/">Docker学习</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux使用/">Linux使用</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux内核学习/">Linux内核学习</a><span class="category-list-count">32</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux内核学习/基础篇/">基础篇</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux内核学习/杂记/">杂记</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux内核学习/配置篇/">配置篇</a><span class="category-list-count">7</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux系统编程/">Linux系统编程</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux网络编程/">Linux网络编程</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Q-A/">Q&A</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Sip协议/">Sip协议</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux内核驱动与文件系统/">linux内核驱动与文件系统</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/project-note/">project_note</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/project-note/decode/">decode</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/project-note/think-about/">think_about</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/开发环境搭建/">开发环境搭建</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂项/">杂项</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/渗透测试/">渗透测试</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/源码分析/">源码分析</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法学习/">算法学习</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统性能/">系统性能</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/">阅读笔记</a><span class="category-list-count">258</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/C-11新特性/">C++11新特性</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/C-Templates/">C++Templates</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/C程序设计语言/">C程序设计语言</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/EffectiveC/">EffectiveC++</a><span class="category-list-count">50</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/EffectiveSTL/">EffectiveSTL</a><span class="category-list-count">51</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/InsideC-ObjectModel/">InsideC++ObjectModel</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/Linux多线程服务器编程/">Linux多线程服务器编程</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/Linux性能优化大师/">Linux性能优化大师</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/Linux设备驱动程序/">Linux设备驱动程序</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/MoreEffectiveC/">MoreEffectiveC++</a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/TCPIP详解Vol1/">TCPIP详解Vol1</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/TheC-StandardLibraryEd1/">TheC++StandardLibraryEd1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/TheC-StandardLibraryEd2/">TheC++StandardLibraryEd2</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/http权威指南/">http权威指南</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/unix网络编程Ed3/">unix网络编程Ed3</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/wireshark数据包分析实战/">wireshark数据包分析实战</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/实战Shell编程与服务器管理/">实战Shell编程与服务器管理</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/程序员的自我修养/">程序员的自我修养</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/网络安全基础/">网络安全基础</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/面向模式的软件体系结构Vol1/">面向模式的软件体系结构Vol1</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/高级C-C-编译技术/">高级C&C++编译技术</a><span class="category-list-count">2</span></li></ul></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/C程序设计语言/" style="font-size: 15px;">C程序设计语言</a> <a href="/tags/C-C-经验累积/" style="font-size: 15px;">C&C++经验累积</a> <a href="/tags/Linux使用/" style="font-size: 15px;">Linux使用</a> <a href="/tags/Linux系统编程/" style="font-size: 15px;">Linux系统编程</a> <a href="/tags/Linux网络编程/" style="font-size: 15px;">Linux网络编程</a> <a href="/tags/Q-A/" style="font-size: 15px;">Q&A</a> <a href="/tags/Sip协议/" style="font-size: 15px;">Sip协议</a> <a href="/tags/linux内核驱动与文件系统/" style="font-size: 15px;">linux内核驱动与文件系统</a> <a href="/tags/开发环境搭建/" style="font-size: 15px;">开发环境搭建</a> <a href="/tags/杂项/" style="font-size: 15px;">杂项</a> <a href="/tags/渗透测试/" style="font-size: 15px;">渗透测试</a> <a href="/tags/源码分析/" style="font-size: 15px;">源码分析</a> <a href="/tags/算法学习/" style="font-size: 15px;">算法学习</a> <a href="/tags/系统性能/" style="font-size: 15px;">系统性能</a> <a href="/tags/阅读笔记/" style="font-size: 15px;">阅读笔记</a> <a href="/tags/Linux内核学习/" style="font-size: 15px;">Linux内核学习</a> <a href="/tags/decode/" style="font-size: 15px;">decode</a> <a href="/tags/think-about/" style="font-size: 15px;">think_about</a> <a href="/tags/C-11新特性/" style="font-size: 15px;">C++11新特性</a> <a href="/tags/Docker学习/" style="font-size: 15px;">Docker学习</a> <a href="/tags/EffectiveC/" style="font-size: 15px;">EffectiveC++</a> <a href="/tags/C-Templates/" style="font-size: 15px;">C++Templates</a> <a href="/tags/EffectiveSTL/" style="font-size: 15px;">EffectiveSTL</a> <a href="/tags/InsideC-ObjectModel/" style="font-size: 15px;">InsideC++ObjectModel</a> <a href="/tags/Linux多线程服务器编程/" style="font-size: 15px;">Linux多线程服务器编程</a> <a href="/tags/Linux性能优化大师/" style="font-size: 15px;">Linux性能优化大师</a> <a href="/tags/Linux设备驱动程序/" style="font-size: 15px;">Linux设备驱动程序</a> <a href="/tags/MoreEffectiveC/" style="font-size: 15px;">MoreEffectiveC++</a> <a href="/tags/TCPIP详解Vol1/" style="font-size: 15px;">TCPIP详解Vol1</a> <a href="/tags/TheC-StandardLibraryEd1/" style="font-size: 15px;">TheC++StandardLibraryEd1</a> <a href="/tags/TheC-StandardLibraryEd2/" style="font-size: 15px;">TheC++StandardLibraryEd2</a> <a href="/tags/unix网络编程Ed3/" style="font-size: 15px;">unix网络编程Ed3</a> <a href="/tags/http权威指南/" style="font-size: 15px;">http权威指南</a> <a href="/tags/实战LinuxShell编程与服务器管理/" style="font-size: 15px;">实战LinuxShell编程与服务器管理</a> <a href="/tags/wireshark数据包分析实战/" style="font-size: 15px;">wireshark数据包分析实战</a> <a href="/tags/网络安全基础/" style="font-size: 15px;">网络安全基础</a> <a href="/tags/程序员的自我修养/" style="font-size: 15px;">程序员的自我修养</a> <a href="/tags/面向模式的软件体系结构Vol1/" style="font-size: 15px;">面向模式的软件体系结构Vol1</a> <a href="/tags/高级C-C-编译技术/" style="font-size: 15px;">高级C&C++编译技术</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/12/14/linux内核学习-配置篇-Linux内核配置详解-七-——-Executable-file-formats-Emulations-可执行文件格式-仿真/">Linux内核配置详解(七) ——   Executable file formats / Emulations (可执行文件格式/仿真)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/12/linux内核学习-配置篇-Linux内核配置详解-六-——-Power-management-and-ACPI-options-电源管理和ACPI选项/">Linux内核配置详解(六) ——  Power management and ACPI options (电源管理和ACPI选项)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/10/linux内核学习-配置篇-Linux内核配置详解-五-——-Processor-type-and-features-中央处理器-CPU-类型及特性/">Linux内核配置详解(五) ——  Processor type and features(中央处理器(CPU)类型及特性)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/07/linux内核学习-配置篇-Linux内核配置详解-四-——-Enable-the-block-layer-块设备支持/">Linux内核配置详解(四) ——  Enable the block layer(块设备支持)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/04/linux内核学习-配置篇-Linux内核配置详解-三-——-Enable-loadable-module-support-可加载模块支持/">Linux内核配置详解(三) ——  Enable loadable module support(可加载模块支持)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/01/linux内核学习-配置篇-Linux内核配置详解-二-——-General-setup-常规设置/">Linux内核配置详解(二) —— General setup(常规设置)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/28/linux内核学习-配置篇-Linux内核配置详解-一-——-main-主菜单/">Linux内核配置详解(一) —— main(主菜单)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/28/linux内核学习-杂记-Linux-Kernel-diff-3-x-to-4-x-—-Documents/">Linux Kernel diff 3.x to 4.x — Documents)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/22/linux内核学习-基础篇-Linux内核初探-之-中断-三-——-工作队列和底半机制/">Linux内核初探 之 中断(三) —— 工作队列和底半机制</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/20/linux内核学习-基础篇-Linux内核初探-之-中断-二-——-底半处理/">Linux内核初探 之 中断(二) —— 底半处理</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://easy.ac.cn/" title="easy" target="_blank">easy</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">dupengair的blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>